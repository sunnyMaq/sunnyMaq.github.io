window.onload=function(){var oUl=document.getElementById("oul");var oT=document.getElementById("txt");var oBtn=document.getElementById("btn");var iNow=-1;var oldValue="";oT.onkeyup=function(ev){var oEvent=ev||event;if(oEvent.keyCode==38||oEvent.keyCode==40){return}jsonp({url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",data:{wd:oT.value},fnSucc:function(data){oUl.style.display="block";oUl.innerHTML="";var arr=data.s;for(var i=0;i<arr.length;i++){var oLi=document.createElement("li");oLi.innerHTML=arr[i];oUl.appendChild(oLi)}}});oldValue=oT.value};oBtn.onclick=function(){if(oT.value==""){window.location.reload()}else{window.open("https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=0&rsv_idx=1&tn=baidu&wd="+oT.value+"","_self")}};oUl.onmouseover=function(){var aLi=oUl.children;for(var i=0;i<aLi.length;i++){aLi[i].onmouseover=function(){for(var j=0;j<aLi.length;j++){aLi[j].className=""}this.className="ac"};aLi[i].onclick=function(){for(var j=0;j<aLi.length;j++){aLi[j].className=""}this.className="ac";oT.value=this.innerHTML;window.open("https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=0&rsv_idx=1&tn=baidu&wd="+oT.value+"","_self")}}};oT.onkeydown=function(ev){var oEvent=ev||event;var aLi=oUl.children;if(oEvent.keyCode==13){window.open("https://www.baidu.com/s?ie=utf-8&f=3&rsv_bp=0&rsv_idx=1&tn=baidu&wd="+oT.value+"","_self")}if(oEvent.keyCode==38){iNow--;if(iNow==-2){iNow=aLi.length-1}console.log(iNow);for(var i=0;i<aLi.length;i++){aLi[i].className=""}if(iNow==-1){oT.value=oldValue}else{oT.value=aLi[iNow].innerHTML;aLi[iNow].className="ac"}}if(oEvent.keyCode==40){iNow++;if(iNow==aLi.length){iNow=-1}for(var i=0;i<aLi.length;i++){aLi[i].className=""}if(iNow==-1){oT.value=oldValue}else{aLi[iNow].className="ac";oT.value=aLi[iNow].innerHTML}}};oT.onblur=function(){if(oUl.children.length==0){oUl.style.display="none"}}};