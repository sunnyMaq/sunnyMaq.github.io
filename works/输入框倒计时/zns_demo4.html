<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时 - 智能社 - www.zhinengshe.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style/zns_style.css" rel="stylesheet" type="text/css" />
</head>
<script>
window.onload = function(){
    var aInput = document.getElementById('fill_in').getElementsByTagName('input');
    var oGo = document.getElementById('go');
    var oStrong = document.getElementById('target').getElementsByTagName('strong')[0];
    var aP = document.getElementById('date').getElementsByTagName('p');
    var timer = null;

    oGo.onclick = function(){
        // 获取未来时间
        clearInterval(timer);
        var oDate = new Date();
        oDate.setFullYear(aInput[0].value,aInput[1].value-1,aInput[2].value);
        oDate.setHours(0,0,0,0);

        oStrong.innerHTML = aInput[0].value+'年'+aInput[1].value+'月'+aInput[2].value+'日';

        function fnTime(){
            var now = new Date();
            var s = parseInt((oDate.getTime() - now.getTime())/1000);
            // alert(s);
            var d = parseInt(s/86400);
            s%=86400;

            var h = parseInt(s/3600);
            s%=3600;

            var m = parseInt(s/60);
            s%=60;

            aP[0].innerHTML = d;
            aP[1].innerHTML = h;
            aP[2].innerHTML = m;
            aP[3].innerHTML = s;
        }
        fnTime();
        timer = setInterval(fnTime,1000);
    }
}
</script>
<body>

<div id="zhinengshe">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="2014" />
        <span class="space1">年</span>
        <input type="text" class="text" value="12" />
        <span class="space2">月</span>
        <input type="text" class="text" value="25" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>

    <p id="target">
        现在距离 -
        <strong>2013年12月25日</strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">00</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>
</div>

</body>
</html>
